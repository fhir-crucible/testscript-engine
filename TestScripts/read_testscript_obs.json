{
  "resourceType": "TestScript",
  "id": "testscript-example-readtest-observation",
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: testscript-example-readtest</p><p><b>url</b>: <b>http://hl7.org/fhir/TestScript/testscript-example-readtest</b></p><p><b>identifier</b>: urn:oid:1.3.6.1.4.1.21367.2005.3.7.9879</p><p><b>version</b>: 1.0</p><p><b>name</b>: TestScript Example Read Test</p><p><b>status</b>: draft</p><p><b>experimental</b>: true</p><p><b>date</b>: 18/01/2017</p><p><b>publisher</b>: HL7</p><p><b>contact</b>: </p><p><b>description</b>: TestScript example resource with ported Sprinkler basic read tests R001, R002, R003, R004. The read tests will utilize user defined dynamic variables that will hold the Observation resource id values.</p><p><b>jurisdiction</b>: United States of America (the) <span>(Details : {urn:iso:std:iso:3166 code 'US' = 'United States of America', given as 'United States of America (the)'})</span></p><p><b>purpose</b>: Observation Read Operation</p><p><b>copyright</b>: © HL7.org 2011+</p><blockquote><p><b>metadata</b></p><h3>Links</h3><table><tr><td>-</td><td><b>Url</b></td><td><b>Description</b></td></tr><tr><td>*</td><td><a>http://hl7.org/fhir/observation.html</a></td><td>Demographics and other administrative information about an individual or animal receiving care or other health-related services.</td></tr></table><h3>Capabilities</h3><table><tr><td>-</td><td><b>Required</b></td><td><b>Validated</b></td><td><b>Description</b></td><td><b>Link</b></td><td><b>Capabilities</b></td></tr><tr><td>*</td><td>true</td><td>false</td><td>Observation Read Operation</td><td><a>http://hl7.org/fhir/http.html#read</a></td><td><a>CapabilityStatement/example</a></td></tr></table></blockquote><p><b>profile</b>: <a>Generated Summary: url: http://hl7.org/fhir/StructureDefinition/Observation; version: 4.0.1; name: Observation; ACTIVE; date: 01/11/2019 9:29:23 AM; publisher: Health Level Seven International (Observation Administration); description: Demographics and other administrative information about an individual or animal receiving care or other health-related services.; purpose: Tracking Observation is the center of the healthcare process.; 4.0.1; RESOURCE; type: Observation; baseDefinition: http://hl7.org/fhir/StructureDefinition/DomainResource; SPECIALIZATION</a></p><blockquote><p><b>variable</b></p><p><b>name</b>: KnownObservationResourceId</p><p><b>defaultValue</b>: example</p></blockquote><blockquote><p><b>variable</b></p><p><b>name</b>: NonExistsObservationResourceId</p><p><b>defaultValue</b>: does-not-exist</p></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: Sprinkler Read Test R001</p><p><b>description</b>: Read a known Observation and validate response.</p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: Sprinkler Read Test R002</p><p><b>description</b>: Read an unknown Resource Type and validate response.</p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: Sprinkler Read Test R003</p><p><b>description</b>: Read a known, non-existing Observation and validate response.</p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: Sprinkler Read Test R004</p><p><b>description</b>: Read a Observation using a known bad formatted resource id and validate response.</p><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote></blockquote></div>"
  },
  "url": "http://hl7.org/fhir/TestScript/testscript-example-readtest",
  "identifier": {
    "system": "urn:ietf:rfc:3986",
    "value": "urn:oid:1.3.6.1.4.1.21367.2005.3.7.9879"
  },
  "version": "1.0",
  "name": "TestScript Example Read Test Observation",
  "status": "draft",
  "experimental": true,
  "date": "2017-01-18",
  "publisher": "HL7",
  "contact": [
    {
      "name": "Support",
      "telecom": [
        {
          "system": "email",
          "value": "support@HL7.org",
          "use": "work"
        }
      ]
    }
  ],
  "description": "TestScript example resource with ported Sprinkler basic read tests R001, R002, R003, R004. The read tests will utilize user defined dynamic variables that will hold the Observation resource id values.",
  "jurisdiction": [
    {
      "coding": [
        {
          "system": "urn:iso:std:iso:3166",
          "code": "US",
          "display": "United States of America (the)"
        }
      ]
    }
  ],
  "purpose": "Observation Read Operation",
  "copyright": "© HL7.org 2011+",
  "metadata": {
    "link": [
      {
        "url": "http://hl7.org/fhir/observation.html",
        "description": "Demographics and other administrative information about an individual or animal receiving care or other health-related services."
      }
    ],
    "capability": [
      {
        "required": true,
        "validated": false,
        "description": "Observation Read Operation",
        "link": [
          "http://hl7.org/fhir/http.html#read"
        ],
        "capabilities": "CapabilityStatement/example"
      }
    ]
  },
  "profile": [
    {
      "id": "observation-profile",
      "reference": "http://hl7.org/fhir/StructureDefinition/Observation"
    }
  ],
  "variable": [
    {
      "name": "KnownObservationResourceId",
      "defaultValue": "example"
    },
    {
      "name": "NonExistsObservationResourceId",
      "defaultValue": "does-not-exist"
    }
  ],
  "test": [
    {
      "id": "R001",
      "name": "Sprinkler Read Test R001",
      "description": "Read a known Observation and validate response.",
      "action": [
        {
          "operation": {
            "type": {
              "system": "http://terminology.hl7.org/CodeSystem/testscript-operation-codes",
              "code": "read"
            },
             "resource": "Observation" ,
            "description": "Read the known Observation resource on the destination test system using the user defined dynamic variable ${KnownObservationResourceId}.",
            "accept": "xml",
            "encodeRequestUrl": true,
            "params": "/${KnownObservationResourceId}"
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned HTTP status is 200(OK).",
            "response": "okay",
            "warningOnly": false
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned format is XML.",
            "contentType": "application/fhir+xml",
            "warningOnly": false
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned HTTP Header Last-Modified is present. Warning only as the server might not support versioning.",
            "headerField": "Last-Modified",
            "operator": "notEmpty",
            "warningOnly": true
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned resource type is Observation.",
             "resource": "Observation" ,
            "warningOnly": false
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned Observation conforms to the base FHIR specification.",
            "validateProfileId": "observation-profile",
            "warningOnly": true
          }
        }
      ]
    },
    {
      "id": "R002",
      "name": "Sprinkler Read Test R002",
      "description": "Read an unknown Resource Type and validate response.",
      "action": [
        {
          "operation": {
            "type": {
              "system": "http://terminology.hl7.org/CodeSystem/testscript-operation-codes",
              "code": "read"
            },
             "resource": "Observation" ,
            "description": "Attempt to read the Parameters resource type. What we really want here is an illegal type but the build process won't allow that. Parameters is a valid resource which doesn't have an end-point so, this should fail.",
            "accept": "xml",
            "encodeRequestUrl": true,
            "params": "/1"
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned HTTP status is 404(Not Found).",
            "response": "notFound",
            "warningOnly": false
          }
        }
      ]
    },
    {
      "id": "R003",
      "name": "Sprinkler Read Test R003",
      "description": "Read a known, non-existing Observation and validate response.",
      "action": [
        {
          "operation": {
            "type": {
              "system": "http://terminology.hl7.org/CodeSystem/testscript-operation-codes",
              "code": "read"
            },
             "resource": "Observation" ,
            "description": "Attempt to read the non-existing Observation resource on the destination test system using the user defined dynamic variable ${NonExistsObservationResourceId}.",
            "accept": "xml",
            "encodeRequestUrl": true,
            "params": "/${NonExistsObservationResourceId}"
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned HTTP status is 404(Not Found).",
            "response": "notFound",
            "warningOnly": false
          }
        }
      ]
    },
    {
      "id": "R004",
      "name": "Sprinkler Read Test R004",
      "description": "Read a Observation using a known bad formatted resource id and validate response.",
      "action": [
        {
          "operation": {
            "type": {
              "system": "http://terminology.hl7.org/CodeSystem/testscript-operation-codes",
              "code": "read"
            },
            "resource": "Observation" ,
            "description": "Attempt to read a Observation resource on the destination test system using known bad formatted resource id.",
            "accept": "xml",
            "encodeRequestUrl": true,
            "params": "/ID-may-not-contain-CAPITALS"
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned HTTP status is 400(Bad Request).",
            "response": "bad",
            "warningOnly": false
          }
        }
      ]
    }
  ]
}