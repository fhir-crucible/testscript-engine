{
  "resourceType": "TestScript",
  "id": "us-mcode-cs-support-patient-id-by-group",
  "url": "https://github.com/fhir-crucible/testscript-generator/UsMcodeCSSupportPatientIdByGroup",
  "version": "0.1",
  "name": "UsMcodeCSSupportPatientIdByGroup",
  "title": "mCODE Capability Statement - Support Cancer Patient Id By Group",
  "status": "draft",
  "experimental": true,
  "date": "2022-11-07T13:00:51-04:00",
  "publisher": "The MITRE Corporation",
  "contact": [
    {
      "name": "Karl Naden"
    }
  ],
  "fixture": [
    {
      "id": "CSpatientsInGroup",
      "autocreate": false,
      "autodelete": false,
      "resource": {
        "reference": "fixtures/CapabilityStatement-mcode-sender-patients-in-group.json"
      }
    }
  ],
  "variable": [
    {
      "name": "capabilityStatementId",
      "defaultValue": "mcode-sender-patients-in-group",
      "hint": "[resource.id]",
      "description": "Enter a known CapabilityStatement instance id on the destination system."
    }
  ],
  "test": [
    {
      "name": "Validate the server's capability statement indicates support for group",
      "action": [
        {
          "operation": {
            "description": "Read Capability Statement",
            "label": "Read_Capability_Statement",
            "type": {
              "code": "read",
              "system": "http://terminology.hl7.org/CodeSystem/testscript-operation-codes"
            },
            "resource": "CapabilityStatement",
            "encodeRequestUrl": false,
            "params": "/${capabilityStatementId}"
          }
        },
        {
          "assert": {
            "label": "Check_For_Required_Capabilities",
            "description": "Check For Required Capabilities",
            "minimumId": "CSpatientsInGroup",
            "warningOnly": false
          }
        }
      ]
    }
  ]
}
